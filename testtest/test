const moment = require('moment');
const JG = require('just-generate'); // 데이터 생성을 위한 라이브러리

function generateTeamAndStudies() {
    const teams = [];
    const studies = [];

    // 팀 ID 및 관련 스터디 ID 생성
    for (let i = 0; i < 10; i++) 
        // 팀 정보 생성
        const teamId = `TEAM#${JG.guid()}`;
        teams.push(teamId);

        const numStudies = JG.integer(2, 6); // 팀당 2~6개의 스터디
        for (let j = 0; j < numStudies; j++) {
            const studyId = `STUDY#${JG.guid()}`;
            const startAt = JG.date(new Date(), new Date(Date.now() + 24 * 60 * 60 * 1000));
            const endAt = new Date(startAt.getTime() + JG.integer(1, 24) * 60 * 60 * 1000); // 최대 24시간

            studies.push({
                team_Id: teamId,
                study_Id: studyId,
                book: {
                    PK: `BOOK#${JG.integer(9780000000000, 9799999999999)}`, // ISBN
                    authors: [`${JG.firstName()} ${JG.lastName()}`],
                    title: `${JG.firstName()}의 ${JG.lastName()} 이야기`,
                },
                start_At: startAt.toISOString(),
                end_At: endAt.toISOString(),
                status: false,
            });
        }
    }

    return { teams, studies };
}

// 데이터 생성 및 출력
const result = generateTeamAndStudies();
console.log(JSON.stringify(result, null, 2));
